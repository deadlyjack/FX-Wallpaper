(self.webpackChunkwallpaper=self.webpackChunkwallpaper||[]).push([[177],{5625:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:function(){return r}})},6123:function(e,t,n){var r,i,a,o;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e=n.nmd(e),window,o=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==s(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){var t=XMLHttpRequest?new XMLHttpRequest:ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):void 0,n=void 0===e.response||e.response;return new Promise((function(i,a){var o=(e=e||{}).contentType,s=void 0===e.method?"get":e.method,c=e.url;e.responseType=void 0===e.responseType?"json":e.responseType,e.serialize=void 0===e.serialize||e.serialize,e.onsuccess=e.onsuccess||r,e.onload=e.onload||r,e.onerror=e.onerror||r;var u=e.serialize?function(e){if(e){var t=Object.keys(e),n="";return t.map((function(r,i){n+=r+(e[r]?"="+e[r]:"")+(i<t.length-1?"&":"")})),encodeURI(n)}}(e.data):e.data;e.data&&"application/json"===o&&(u=JSON.stringify(e.data)),t.open(s,c,!0),t.responseType=e.responseType,o&&t.setRequestHeader("Content-Type",o),e.xhr&&e.xhr(t),t.send(u),t.onerror=function(t){e.onerror&&e.onerror(t),a(t)},e.onloadend&&t.addEventListener("loadend",e.onloadend),e.onload&&t.addEventListener("load",e.onload),e.onerror&&t.addEventListener("error",e.onerror),t.addEventListener("readystatechange",(function(){4===t.readyState?t.status>=200&&t.status<300||0===t.status?(e.onsuccess&&e.onsuccess(t.response),i(n?t.response:t)):a(n?t.response||t.statusText:t):t.status>300&&a(n?t.response||t.statusText:t)}))}));function r(e){return e}}n.r(t),n.d(t,"ajax",(function(){return r}))}]).ajax},"object"==s(t)&&"object"==s(e)?e.exports=o():(i=[],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},4646:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(5625),i=n(5383),a=n.n(i),o=n(4890),s=n(419),c=n(1111);function u(e,t){var n,i=s.Z.uuid(),u=!1;"boolean"==typeof t?u=t:"object"===(0,r.Z)(t)?(i=t.id,u=t.secondary):t={};var l=o.Z.render('<div id="{{id}}" class="page {{#secondary}}secondary{{/secondary}}">\n  <header>{{#secondary}}\n    <span class="icon-arrow_back" action="back"></span>\n    <span class="title">{{{title}}}</span>\n  {{/secondary}}</header>\n  <div class="page-body"></div>\n</div>',{id:i,title:e,secondary:u}),d=a().parse(l);return"function"==typeof t.onhide&&(d.onhide=t.onhide),Object.defineProperties(d,{onhide:{set:function(e){n=e},get:function(){return n}},id:{value:i},render:{value:function(){var e=this;u&&actionStack.push({id:i,type:"page",action:this.hide}),d.addEventListener("click",(function(t){var n=t.target;n instanceof HTMLElement&&("back"===n.getAttribute("action")&&(e.hide(),actionStack.remove(i)))})),app.append(this)}},hide:{value:function(){"function"==typeof n&&n(),d.classList.add("hide"),setTimeout(d.remove.bind(d),c.Z.pageTransitionTimeout)}},content:{get:function(){return this.get(".page-body").innerHTML},set:function(e){var t=this.get(".page-body");"string"==typeof e&&(t.innerHTML=e),e instanceof HTMLElement&&t.append(e)}}}),d}},2530:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5383),i=n.n(r);function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#39f",n=window.devicePixelRatio,r=5*n,a=Math.min(Math.min(.2*window.innerWidth,80),150),o=a,s=i()("canvas",{className:"progress-loader",style:{color:t,height:"".concat(a,"px"),width:"".concat(o,"px")},height:a*n,width:o*n}),c=i()("span",{className:"progress-meter",textContent:"0%",style:{color:t,height:"".concat(a,"px"),width:"".concat(o,"px")}}),u=i()("span",{className:"progress-message",style:{color:t,paddingTop:"".concat(a+40,"px")}}),l=i()("div",{style:{position:"fixed",top:0,left:0,height:"100vh",width:"100vw",background:"rgba(0, 0, 0, 0.4)",zIndex:9}}),d=s.getContext("2d"),p=0,h=!1,f=null,g=0,v=.03,m=.003,F=!1,w=!1;function b(){y(),e=window.requestAnimationFrame(b)}function y(){if(h){if(g+=m,(p+=v)>=1){p=0;var e=v;v=m,m=e}if(g>=1){g=0;var t=m;m=v,v=t}}var i=o*n/2;d.clearRect(0,0,s.width,s.width),d.beginPath(),d.arc(i,i,i-r,2*g*Math.PI,2*p*Math.PI,!1),d.stroke()}return d.strokeStyle=t,d.lineWidth=r,d.shadowColor=t,d.shadowBlur=4,b(),{show:function(){return IS_ANDROID&&(window.StatusBar.backgroundColorByHexString("#131318"),window.NavigationBar.backgroundColorByHexString("#131318",!1)),app.append(l,s),F&&app.append(c),app.append(u),this},progress:function(e){return f===e||(g=0,f=null,h=!1,p=e/100,c&&(c.textContent="".concat(e.toFixed(1),"%"))),this},hide:function(){return IS_ANDROID&&(window.StatusBar.backgroundColorByHexString("#212028"),window.NavigationBar.backgroundColorByHexString("#212028",!1)),this.progress(0),s.isConnected&&s.remove(),c.isConnected&&c.remove(),u.isConnected&&u.remove(),l.isConnected&&l.remove(),this},destroy:function(){w||(w=!0,this.hide(),s=null,c=null,d=null,window.cancelAnimationFrame(e))},animate:function(){return f=p,h=!0,this},showValue:function(e){return e?(F=!0,c.isConnected||app.append(c)):(F=!1,c.isConnected&&c.remove()),this},message:function(e){u.textContent=e}}}},9581:function(e,t,n){"use strict";var r=n(1315),i="favorite";t.Z={add:function(e){r.Z.add(e,i),document.dispatchEvent(new CustomEvent("favorite:add")),document.dispatchEvent(new CustomEvent("favorite:change"))},remove:function(e){r.Z.remove(e,i),document.dispatchEvent(new CustomEvent("favorite:remove")),document.dispatchEvent(new CustomEvent("favorite:change"))},clear:function(){r.Z.clear(i),document.dispatchEvent(new CustomEvent("favorite:clear")),document.dispatchEvent(new CustomEvent("favorite:change"))},has:function(e){return r.Z.has(e,i)},retrive:function(){return r.Z.retrive(i)}}},1315:function(e,t){"use strict";t.Z={add:function(e,t){var n=this.retrive(t);n.push(e),localStorage[t]=JSON.stringify(n)},remove:function(e,t){var n=this.retrive(t),r=e.id,i=n.filter((function(e){return e.id!==r}));localStorage[t]=JSON.stringify(i)},clear:function(e){localStorage[e]="[]"},has:function(e,t){var n=this.retrive(t),r=e.id;return n.find((function(e){return e.id===r}))},retrive:function(e){var t=JSON.parse(localStorage[e]||"[]");return Array.isArray(t)||(t=[]),t}}},9306:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(5383),i=n.n(r),a=n(4890),o=n(4646),s=n(9581),c=n(2530),u=n(6592),l=n(1549),d=n(419);function p(e,t,n){var r=window.innerWidth,p=Math.min(r,800)/2,f=(0,o.Z)(e,{id:"ldxpq13x",secondary:!0}),g=f.get(".page-body"),v=[],m=(0,c.Z)("#39f"),F=0,w=0,b=!1,y=!0,E=0,k=0,A=1;function C(e){g.append(e)}function x(e){var t=F,n=w,r="page_".concat(++E),o=i()("div",{id:r}),c="";e.map((function(e){return e.page="Page: ".concat(E," | Row: ").concat(A),e.count="Image: ".concat(++k),e.favorite=!!s.Z.has(e),e.relative_height=p/e.width*e.height,e.relative_width=p-7.5,1===A?(e.top=F+5,e.left=5,F+=e.relative_height+5,A=2):(e.top=w+5,e.right=5,w+=e.relative_height+5,A=1),c+=a.Z.render("<div\n  class='img'\n  action='set-wallpaper'\n  style='background-color: {{avgColor}}; \n  background-image: url({{src.thumbnail}});\n  height: {{relative_height}}px;\n  width: {{relative_width}}px;\n  top: {{top}}px;\n  {{#left}}left: {{.}}px;{{/left}}\n  {{#right}}right: {{.}}px;{{/right}}'\n  count='{{count}}'\n  page='{{page}}'\n  favorite='{{favorite}}'\n  image-id='{{id}}'\n  avg-color='{{avgColor}}'\n  author='{{meta.author}}'\n  website='{{meta.website}}'\n  email='{{meta.email}}'\n  url-thumbnail='{{src.thumbnail}}'\n  url-original='{{src.original}}'\n  image-height='{{height}}',\n  image-width='{{width}}'\n>\n  <div class='bottom-bar'>\n    <div class=\"author\">\n      {{#meta.author}}<small>by</small>&nbsp;{{/meta.author}}\n      <span action='open-link' data-href='{{#meta.website}}{{.}}{{/meta.website}}'>{{#meta.author}}{{.}}{{/meta.author}}</span>\n    </div>\n    <span class='icon-favorite{{#favorite}} fill-red{{/favorite}}' action='favorite' image-id='{{id}}'></span>\n  </div>\n</div>",e),e}));var u=F-t,l=w-n;return o.innerHTML=c,o.setAttribute("top",Math.min(F,w)),o.setAttribute("bottom",Math.max(F,w)),o.setAttribute("height",Math.max(u,l)),o}function D(e){var t=e.target;if(t instanceof HTMLElement)switch(t.getAttribute("action")){case"set-wallpaper":(0,u.Z)(h(t));break;case"open-link":d.Z.openlink(t.getAttribute("data-href"));break;case"favorite":!function(e){var t=h(e);e.classList.toggle("fill-red"),e.classList.add("pop"),setTimeout((function(){e.classList.remove("pop")}),100),s.Z.has(t)?s.Z.remove(t):s.Z.add(t)}(t)}}m.show().showValue(!1).animate().message("".concat(l.Z.loading,"...")),t().then((function(e){var t=x(e);m.hide(),t.innerHTML?(g.style.height="".concat(t.getAttribute("height"),"px"),C(t),v.push(t)):g.setAttribute("empty-message","No wallpaper found...")})),f.addEventListener("scroll",(function(){if(b)return;var e=.98*this.scrollHeight,n=this.scrollTop;e<=n+this.clientHeight&&y&&(b=!0,m.show(),t().then((function(e){if(m.hide(),b=!1,e.length){var t=x(e);g.style.height="".concat(t.bottom,"px"),C(t),v.push(t)}else y=!1})))})),f.addEventListener("click",D),f.render(),f.onhide=function(){v.length=0,f.removeEventListener("click",D),m.destroy(),"function"==typeof n&&n()}}function h(e){e=i().get("[image-id='".concat(e.getAttribute("image-id"),"']"));var t=function(t){return e.getAttribute(t)};return{id:t("image-id"),avgColor:t("avg-color"),height:t("image-height"),width:t("image-width"),meta:{author:t("author"),website:t("website"),email:t("email")},src:{thumbnail:t("url-thumbnail"),original:t("url-original")}}}},6592:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.e(893).then(n.bind(n,6038)).then((function(e){e.default.apply(void 0,t)}))}n.d(t,{Z:function(){return r}})},1938:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var r=n(6520),i=n(2),a=n(6652),o=n.n(a),s=n(5383),c=n.n(s),u=n(4890),l=n(6123),d=n.n(l);var p=n(4646);function h(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.e(177).then(n.bind(n,9306)).then((function(e){e.default.apply(void 0,t)}))}var f=n(9581),g=n(1549),v=n(6592);var m={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#FAA460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function F(e,t){var n=window.screen,i=n.height,a=n.width,s={width:a,height:i},c={width:650/i*a,height:650},u=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}(Object.keys(m));if("solid-colors"===t){var l=0;h("Solid colors",(0,r.Z)(o().mark((function e(){var t,n,d,p,h,f,g,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=25*l++,n=t+25,d=u.slice(t,n),p=[],h=d.length,f=function(e){var t=d[e],n=m[t];p.push(new Promise((function(e){(0,r.Z)(o().mark((function r(){var u,l;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,w(s,n);case 2:return u=r.sent,r.next=5,w(c,n);case 5:l=r.sent,e({id:t,height:i,width:a,avgColor:n,src:{original:u,thumbnail:l}});case 7:case"end":return r.stop()}}),r)})))()})))},g=0;g<h;++g)f(g);return e.next=9,Promise.all(p);case 9:return v=e.sent,e.abrupt("return",v);case 11:case"end":return e.stop()}}),e)}))))}}function w(e,t){var n=e.height,r=e.width,i=document.createElement("canvas"),a=i.getContext("2d");return i.height=n,i.width=r,a.fillStyle=t,a.fillRect(0,0,r,n),new Promise((function(e,t){i.toBlob((function(n){var r=new FileReader;r.readAsDataURL(n),r.onloadend=function(t){e(t.target.result)},r.onerror=t}),"image/jpeg",1)}))}var b=n(419),y="my likes",E="solid colors",k="my gallary",A="explore";function C(){var e,t,a="android.permission.READ_EXTERNAL_STORAGE",s=(0,p.Z)("Home",{id:"logu5ufd",secondary:!1}),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="https://wallpaper.foxdebug.com";function n(e){return{url:"".concat(t,"/").concat(e)}}return{all:function(t){return(0,r.Z)(o().mark((function r(){var i,a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=n("images/all?page=".concat(t,"&count=").concat(e)),r.next=3,d()(i);case 3:return a=r.sent,r.abrupt("return",a);case 5:case"end":return r.stop()}}),r)})))()},collections:function(){return(0,r.Z)(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n("collections"),e.next=3,d()(t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))()},collection:function(t){var i=arguments;return(0,r.Z)(o().mark((function r(){var a,s,c;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:1,s=n("collection/".concat(t,"?search=on&page=").concat(a,"&count=").concat(e)),r.next=4,d()(s);case 4:return c=r.sent,r.abrupt("return",c);case 6:case"end":return r.stop()}}),r)})))()},get PER_PAGE(){return e}}}(25),h=s.get(".page-body"),m=s.get("header"),F=window.innerWidth,w=Math.min(F,600)/2-15,b=2*w,C=[],D=[k];f.Z.retrive().length>0&&D.push(y),window.Worker&&D.push(E),h.classList.add("scrollable"),D.push(A),h.style.width="".concat(Math.min(F,600),"px"),m.innerHTML="<input type='search' placeholder='Wallpaper FXDBG' />\n<button class='icon-search' action='enable-search'></button>\n<button class='icon-settings' action='settings'></button>";var B=m.get("[type=search]");function S(){setTimeout((function(){app.classList.add("ready"),setTimeout((function(){app.classList.remove("ready","not-ready"),ad.show()}),1e3)}),500)}function Z(e,t,n,r){var i={title:t,type:e,description:r,height:b,width:w,get hidden(){return!this.src},src:""};return"function"==typeof n?Object.defineProperty(i,"src",{get:n}):i.src=n,i}function L(){s.content=u.Z.render("<div class=\"collections\">\n  {{#collections}}\n  <div\n  class='collection'\n  {{#hidden}}hidden{{/hidden}}\n  {{#query}}query='.'{{/query}}\n  title='{{title}}'\n  action='{{type}}'\n  image-src='{{src}}'\n  collection-name='{{title}}'\n    style=\"{{#src}}background-image: url({{src}});{{/src}}\n    height: {{height}}px;\n    width: {{width}}px;\"\n  >\n    <div class='bottom'>\n      <span class='title'>{{title}}</span>\n      <p class='description'>{{description}}</p>\n    </div>\n  </div>\n{{/collections}}\n</div>\n\n<h2>Explore wallpapers</h2>\n<div class=\"tags scrollable\">\n  {{#tags}}\n  <span class=\"tag\" action='open-tag'>{{.}}</span>\n  {{/tags}}\n</div>",{collections:C,tags:D}),"function"==typeof e&&e()}function T(){return M.apply(this,arguments)}function M(){return(M=(0,r.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,new Promise((function(e,t){window.wallpaper.getWallpaper("HOME",e,t)}));case 3:return(n=e.sent)&&t.push({name:"Home screen",src:n}),e.next=7,new Promise((function(e,t){window.wallpaper.getWallpaper("LOCK",e,t)}));case 7:return(n=e.sent)&&t.push({name:"Lock screen",src:n}),e.next=11,new Promise((function(e,t){window.wallpaper.getAPILevel(e,t)}));case 11:e.sent<24&&t.splice(1),1===t.length&&(t[0].name="Home & Lock screen"),t.forEach((function(e){C.unshift(Z("wallpaper",e.name,e.src,"Active wallpaper"))}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}document.addEventListener("wallpaperchange",(function(){var e=1,t=/^(Home|Lock)(\s&\sLock)? screen/,n=C[0],r=C[1];n&&t.test(n.title)&&C.splice(--e,1);r&&t.test(r.title)&&C.splice(e,1);T().then(L)})),document.addEventListener("favorite:change",(function(){var e=f.Z.retrive();e.length&&!D.includes(y)?D.unshift(y):!e.length&&D.includes(y)&&D.splice(D.indexOf(y),1);L()})),B.addEventListener("search",(function(e){e.preventDefault();var t=this.value;if(!t)return;this.blur(),x(t,l)})),B.addEventListener("focus",(function(){var e=this;t&&(this.value=t);this.placeholder=g.Z.search,actionStack.push({id:"unfocus-search",action:function(){e.blur()}}),this.onblur=function(){var e=this;t=this.value,this.value="",window.system.getAppInfo((function(t){e.placeholder=t.label}),(function(){e.placeholder="Wallpaper"})),actionStack.remove("unfocus-search")}})),s.addEventListener("click",(function(t){var r=t.target;if(!(r instanceof HTMLElement))return;var i=r.getAttribute("action"),o=function(e){return r.getAttribute(e)};switch(i){case"open-tag":x(r.textContent,l);break;case"wallpaper":!function(e,t,n){(0,v.Z)({title:e,get id(){return this.title},src:{original:t,thumbnail:n}})}(o("title"),o("image-src"),"");break;case"enable-search":B.focus();break;case"search":x(o("title"),l);break;case"settings":!function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.e(571).then(n.bind(n,99)).then((function(e){e.default.apply(void 0,t)}))}();break;case"grant-access":window.system.requestPermission(a,(function(t){t&&(window.hasStoragePermission=!0,e=null,T().then(L))}))}})),s.render(),L(),l.collections().then((function(e){Array.isArray(e)&&D.push.apply(D,(0,i.Z)(e)),L()})).catch((function(e){console.log(e)})),window.system.hasPermission(a,(function(t){if(t)window.hasStoragePermission=!0,T().then(L).finally(S);else{var n=c()("div",{textContent:g.Z.errorMessage,style:{width:"100%",padding:"20px",boxSizing:"border-box",backgroundColor:"#f68",textAlign:"center",color:"white",margin:"-10px 0 10px 0"},attr:{action:"grant-access"}});e=function(){return h.firstElementChild?h.insertBefore(n,h.firstElementChild):h.append(n)},L(),S()}}))}function x(e,t){var n,i=t.PER_PAGE;e!==y?e!==A?e!==k?e!==E?h(e.capitalize(),function(){var n=0;return(0,r.Z)(o().mark((function r(){var i;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.collection(e,++n);case 2:return i=r.sent,r.abrupt("return",i);case 4:case"end":return r.stop()}}),r)})))}()):F(0,"solid-colors"):window.sdcard.getImage((function(e){(0,v.Z)({title:b.Z.uuid(),get id(){return this.title},src:{original:e}})}),(function(e){console.error(e)}),"image/*"):h(A.capitalize(),function(){var e=0;return(0,r.Z)(o().mark((function n(){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.all(++e);case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})))}()):h(y.capitalize(),(n=0,(0,r.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n++*i,e.abrupt("return",f.Z.retrive().slice(t,t+i));case 2:case"end":return e.stop()}}),e)})))))}},1549:function(e,t){"use strict";t.Z={errorMessage:"Cannot display current wallpaper without access to your device's storage. Click here to grant access.",search:"Search",info:"info",INFO:"INFO",error:"error",ERROR:"ERROR",permissionRequired:"This feature requires permission to read sotrage. Please grant permission from settings.",imageSaved:"Image saved to gallary.",saving:"Saving",loading:"Loading",settingWallpaper:"Setting wallpaper",wallpaperChanged:"Wallpaper changed successfuly!",setAs:"Set wallpaper as"}}}]);